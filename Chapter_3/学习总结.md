-----

### **知识点总结：Java 程序控制语句**

#### **1. 程序控制语句简介**

本章主要介绍了 Java 中控制程序执行流程的三大类语句：**选择（Selection）语句**、**迭代（Iteration）语句**和**跳转（Jump）语句**。这些语句是编写任何复杂程序的基础。

#### **2. 从键盘输入字符**

在学习控制语句之前，我们先了解了如何从键盘接收用户的输入。最简单的方法是使用 `System.in.read()`，它会读取一个字符并以整数形式返回。需要注意的是，`System.in` 默认是行缓冲的，这意味着你需要按下回车键（Enter）程序才能读取到输入的字符。由于这个方法会抛出 `java.io.IOException`，所以调用它的方法必须使用 `throws java.io.IOException` 子句来处理异常。

```java
// 从键盘读取一个字符
class Kbin {
  public static void main(String args[]) throws java.io.IOException {
    char ch;
    System.out.print("Press a key followed by ENTER: ");
    ch = (char) System.in.read(); // 获取一个字符 [cite: 378]
    System.out.println("Your key is: " + ch);
  }
}
```

#### **3. if 语句**

**if 语句**是 Java 中的第一种选择语句，用于根据条件执行不同的代码。它的完整形式包括一个可选的 `else` 语句。

  * **基本形式**: `if (condition) statement;` 或 `if (condition) { statement sequence }`
  * **if-else 形式**: `if (condition) statement; else statement;` [cite: 391, 392]
  * **嵌套 if 语句**: `if` 语句可以作为另一个 `if` 或 `else` 语句的目标。一个 `else` 总是与其在同一代码块中最近的、没有 `else` 与之匹配的 `if` 语句相匹配。 [cite: 429]
  * **if-else-if 阶梯状结构**: 这种结构常用于多条件测试。条件表达式会从上到下依次检查，一旦找到为真的条件，就执行其对应的语句，并跳过后面的所有分支。最后一个 `else` 语句通常作为默认情况处理。 [cite: 460, 470]

<!-- end list -->

```java
// if-else-if 阶梯状结构示例
for (int x=0; x<6; x++) {
  if (x == 1)
    System.out.println("x is one");
  else if (x == 2)
    System.out.println("x is two");
  else if (x == 3)
    System.out.println("x is three");
  else if (x == 4)
    System.out.println("x is four");
  else
    System.out.println("x is not between 1 and 4");
}
```

#### **4. switch 语句**

**switch 语句**是 Java 的第二种选择语句，提供了多路分支，通常比嵌套 `if-else-if` 结构更高效。它将一个表达式的值与一系列常量进行比较。

  * **基本形式**: `switch (expression) { case constant: ... break; default: ... }` [cite: 499]
  * **表达式类型**: 在 JDK7 之前，表达式必须是 `byte`, `short`, `int`, `char` 或枚举类型。从 JDK7 开始，也可以是 `String` 类型。 [cite: 512]
  * **`break` 语句**: `break` 语句是可选的，但通常会使用。当程序执行到 `break` 时，会立即退出整个 `switch` 语句。如果没有 `break`，程序会继续执行后续的 `case` 语句，直到遇到 `break` 或 `switch` 语句结束。 [cite: 552]
  * **`default` 语句**: `default` 语句是可选的，用于处理所有 `case` 都不匹配的情况。 [cite: 514]
  * **嵌套 switch**: `switch` 语句可以嵌套在另一个 `switch` 语句中。内层和外层的 `case` 常量可以有相同的值，不会发生冲突。 [cite: 600]

<!-- end list -->

```java
// switch 语句示例
for (int i=0; i<10; i++)
  switch(i) {
    case 0:
      System.out.println("i is zero");
      break;
    case 1:
      System.out.println("i is one");
      break;
    case 2:
      System.out.println("i is two");
      break;
    case 3:
      System.out.println("i is three");
      break;
    case 4:
      System.out.println("i is four");
      break;
    default:
      System.out.println("i is five or more");
  }
```

#### **5. for 循环**

**for 循环**是一种强大的迭代语句，通常用于已知迭代次数的情况。

  * **基本形式**: `for(initialization; condition; iteration) statement;` [cite: 702]
  * **循环的变体**: `for` 循环的三个部分（初始化、条件、迭代）都可以是空的，或者包含多个表达式（用逗号分隔）。 [cite: 704]
  * **无限循环**: 通过省略 `for` 循环的条件表达式，可以创建一个无限循环。 [cite: 704]
  * **循环体内声明控制变量**: 可以在 `for` 循环的初始化部分声明控制变量。该变量的作用域仅限于 `for` 循环内部。 [cite: 704]

#### **6. while 循环**

**while 循环**是另一种迭代语句，它在循环顶部进行条件测试。只要条件为真，循环就会一直执行。

  * **基本形式**: `while(condition) statement;` [cite: 704]
  * **特点**: 循环体可能一次都不会执行，因为条件在进入循环前就会被检查。 [cite: 704]

#### **7. do-while 循环**

**do-while 循环**与 `while` 循环类似，但它在循环底部进行条件测试。

  * **基本形式**: `do { statement sequence } while (condition);` [cite: 704]
  * **特点**: `do-while` 循环至少会执行一次，因为条件是在循环体执行后才被检查的。 [cite: 704]

#### **8. 跳转语句: break 和 continue**

  * **`break` 语句**:

      * **退出循环**: `break` 用于立即终止 `for`, `while` 或 `do-while` 循环，并将程序控制权转移到循环之后的语句。 [cite: 704]
      * **退出 `switch`**: `break` 也用于退出 `switch` 语句。 [cite: 552]
      * **作为 `goto`**: Java 没有 `goto` 语句，但 `break` 可以通过与\*\*标签（label）\*\*结合来模拟 `goto` 的功能，将程序控制权转移到被标记的语句块末尾。 [cite: 704]

  * **`continue` 语句**:

      * **跳过当前迭代**: `continue` 语句用于强制循环跳过当前迭代的剩余部分，并立即开始下一次迭代。 [cite: 704]
      * **带标签的 `continue`**: `continue` 也可以与标签结合，用于跳过被标记的外部循环的当前迭代。 [cite: 704]

#### **9. 嵌套循环**

一个循环可以嵌套在另一个循环中。嵌套循环是解决许多编程问题的常用方法。当使用 `break` 语句时，它只会退出最内层的循环，而不会影响外部循环。

-----